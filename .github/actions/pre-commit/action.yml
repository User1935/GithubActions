name: "Pre-commit"
description: 'Run and Settup Pre-commit'


runs:
  using: "composite"
  steps:

    - id: random-number-generator
      run: |
        echo "~/cache" >> $GITHUB_PATH \
        export PATH="${PATH}:~/cache"
        echo "$PATH"
        echo $(ls)
      shell: bash

    - run: pre-commit run -a | tee something.txt
      shell: bash


    #- run: |
    #    pre-commit run --all-files | sed 's/\x1b\[[0-9;]*m//g' | tee output.md
    #    output=$(cat output.md)
    #    echo ::set-output name=precommit_output::$output
    #    echo Fileoutput $output
    #    echo ::debug:: $output
    #    git config user.name "$(git --no-pager log --format=format:'%an' -n 1)"
    #    git config user.email "$(git --no-pager log --format=format:'%ae' -n 1)"
    #    git add .
    #    git commit -m "$INPUT_COMMIT"
    #    git push
    #  shell: bash
